{
  "hash": "ce59aff2a1d8d10a990939ad7a5e79be",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Coding in R\"\nformat:\n  html: default\n  revealjs:\n    fontsize: 24px\n    output-file: slides_intro2r.html\n    footer: \"[AES_707](https://petrpajdla.github.io/stat4arch/) *Statistics seminar for archaeologists* | [Coding in R](./intro2r.html)\"\n  pdf: default\nexecute:\n  echo: true\n---\n\n\n## Reflection on the last week {background-color=\"#FAF1A4\"}\n\n### Tidy data principles\n\n### Readings\n\n![](./figs/vanpool.jpg){width=\"20%\"}\n\n\n## Objectives\n\n::: {.incremental}\n\nToday's goals...\n\n- Notion of functions vs. objects.\n- Intro on R data types (ie. *what types of things are there*).\n- Intro on R types of objects (ie. *how things are represented*).\n- Subsetting data frames.\n- Reading data into R.\n\n:::\n\n\n## R is a smart calculator...\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\n2 + 40\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 42\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\n5^2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 25\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nround(6.48^2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 42\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\n5 < 10\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nsqrt(1764)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 42\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\n8 * 10^10\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 8e+10\n```\n\n\n:::\n:::\n\n:::\n:::\n::: {.column width=\"50%\"}\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- 1\n```\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\ny <- 41\n```\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nx + y\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 42\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nx > y\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nz <- x - y\n```\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nz\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] -40\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\n(x + y)^2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1764\n```\n\n\n:::\n:::\n\n:::\n:::\n::::\n\n## Functions and objects {.incremental}\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n\n#### Objects\n\n- *Anything* is an object.\n- Objects contain **data** *(etc.)*\n- Objects have **names**.\n- You choose the names.\n- Name your objects wisely.\n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- 1\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\npi \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.141593\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\npi + 1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4.141593\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n`<-` is an *assignment* operator  \n(use *Alt + -* in RStudio to write it).\n:::\n\n:::\n::: {.column width=\"50%\" .fragment}\n\n#### Functions \n\n- End with parentheses `function(arguments)`.\n- **Arguments** go in the parentheses.\n- Functions **do** something with the inputs you give them.\n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nsqrt(x = 1764)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 42\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nargs(sqrt)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nfunction (x) \nNULL\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nround(pi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nargs(round)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nfunction (x, digits = 0) \nNULL\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nround(pi, digits = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 3.14\n```\n\n\n:::\n:::\n\n:::\n:::\n::::\n\n## Types of objects\n\n### Vector\n\n- Basic data structure.\n- Contains single data type.\n- Created using function `c()` *(combine, concatenate)*\n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nc(\"Fuu\", \"Bar\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Fuu\" \"Bar\"\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1, 3, 5, 8)\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 3 5 8\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nx^2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  1  9 25 64\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nis.vector(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nx >= 4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE FALSE  TRUE  TRUE\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nlength(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n:::\n\n\n## Types of objects\n\n### Data frame & tibble\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n\n- A table.\n- Has rows and columns.\n- *Rectangular*, ie. identical number of rows in each column.\n\n\n::: {.cell}\n\n:::\n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\ndfr\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   x y     z   w\n1 95 a  TRUE 4.2\n2 96 b FALSE 4.4\n3 97 c FALSE 4.6\n4 98 d  TRUE 4.8\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nis.data.frame(dfr)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nncol(dfr)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nnrow(dfr)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 4\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(dfr, n = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   x y     z   w\n1 95 a  TRUE 4.2\n2 96 b FALSE 4.4\n```\n\n\n:::\n:::\n\n:::\n\n:::\n::: {.column width=\"50%\" .fragment}\n\n#### Subsetting\n\n- `$` operator returns a single column.\n\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\ncolnames(dfr)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"x\" \"y\" \"z\" \"w\"\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\ndfr$x\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 95 96 97 98\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\ndfr$y\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"a\" \"b\" \"c\" \"d\"\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\ndfr$z\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  TRUE FALSE FALSE  TRUE\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\ndfr$w / 2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 2.1 2.2 2.3 2.4\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\ndfr$x - dfr$w\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 90.8 91.6 92.4 93.2\n```\n\n\n:::\n:::\n\n:::\n::: {.fragment}\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(dfr)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t4 obs. of  4 variables:\n $ x: int  95 96 97 98\n $ y: chr  \"a\" \"b\" \"c\" \"d\"\n $ z: logi  TRUE FALSE FALSE TRUE\n $ w: num  4.2 4.4 4.6 4.8\n```\n\n\n:::\n:::\n\n:::\n\n:::\n::::\n\n\n## Data types\n\n\n::: {.cell}\n\n```{.r .cell-code}\nstr(dfr)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t4 obs. of  4 variables:\n $ x: int  95 96 97 98\n $ y: chr  \"a\" \"b\" \"c\" \"d\"\n $ z: logi  TRUE FALSE FALSE TRUE\n $ w: num  4.2 4.4 4.6 4.8\n```\n\n\n:::\n:::\n\n\n:::: {.columns}\n::: {.column width=\"50%\" .fragment}\n\n### Text strings\n\n- **Character** data type, abbreviated as *chr*.\n- Written in quotation marks (double or single).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n\"I am a string.\"\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"I am a string.\"\n```\n\n\n:::\n\n```{.r .cell-code}\nx <- 'I am also a string'\nis.character(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\n- Functions with `is.` prefix:  \n  `is.numeric()`, `is.double()` etc.\n\n:::\n::: {.column width=\"50%\" .fragment}\n\n### Numbers\n\n- **Integers** (*whole* numbers)\n- **Doubles** (decimal numbers)\n- **Numeric** (class for all numbers in general)\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndfr$x \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 95 96 97 98\n```\n\n\n:::\n\n```{.r .cell-code}\nis.numeric(dfr$x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\ndfr$x + dfr$w\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  99.2 100.4 101.6 102.8\n```\n\n\n:::\n\n```{.r .cell-code}\nmean(dfr$x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 96.5\n```\n\n\n:::\n:::\n\n\n:::\n::::\n\n## Data types\n\n:::: {.columns}\n::: {.column width=\"50%\"}\n\n### Dichotomies\n\n- **Logical** data type.\n- Binary/boolean values.\n- As `TRUE` and `FALSE` in `R`.\n\n:::\n::: {.column width=\"50%\" .fragment}\n\n### Special values\n\n- Missing values as `NA`, ie. *not available*.\n- `Inf` and `-Inf` for infinities.\n- `NULL` for an object of a zero length.\n\n:::\n::::\n\n## Reading data in CSV into R\n\n### Comma separated values (CSV)\n\n- **Plain-text** document.\n- Practical **exchange** and **preservation** format for data sets.\n- Most open and commercial softwares will allow export in CSV.\n\n- Americas: separated by commas (`,`), period (`.`) as a decimal mark.\n- Europe: separated by semicolon (`;`), comma (`,`) as a decimal mark.\n\n::: {.fragment}\n\n### Reading CSV into R\n\nComma separated:  \n`read.csv(file = \"path\")`\n\nSemicolon separated:  \n`read.csv2(file = \"path\")`\n\nOther delimiter:  \n`read.table(file = \"path\", sep = \"separator\")`\n\n:::\n\n## Practice {background-color=\"#B5E2FF\"}\n\n### Dart points\n\n![](./figs/dartpoints.png){width=\"66%\"}\n\n*Adapted from Carlson 2011*\n\n## Dart points\n\n:::: {.columns}\n::: {.column width=\"80%\"}\n![Scatter plot of dart points](./figs/dartpoints_scatter.png){width=\"100%\"}\n:::\n::: {.column width=\"20%\"}\n\nMeasurements on five types of dart points from **Fort Hood** in central Texas (**Darl, Ensor, Pedernales, Travis, and Wells**). The points were recovered during 10 different pedestrian survey projects during the 1980’s and were classified and measured by H. Blaine Ensor… \n\n:::\n::::\n\n## Exercise {background-color=\"#B5E2FF\"}\n\n:::: {.columns}\n::: {.column width=\"60%\"}\n::::: {.incremental}\n\n1. Download the dataset [{{< bi file-earmark-arrow-down >}} dartpoints.csv](./data/dartpoints.csv)\n2. Explore the dataset using spreadsheet editor\n3. Save the dataset somwhere you can find it\n3. Start **RStudio**\n4. Create a script (*Ctrl + Shift + n*)\n5. Read the dataset from the path where you saved it  \n6. Save it as `darts` object \n7. What kind of an object is it?\n7. How many rows and columns does it have?  \n8. What columns does it have?\n9. What data types are there? What is the structure?\n10. Read details about the dataset using `?archdata::DartPoints`  \n  {{< bi lightbulb >}} Hints: `read.csv()`, `ncol()` and `nrow()`, `str()`, `colnames()`\n\n:::::\n:::\n::: {.column width=\"40%\" .fragment}\n\n### Solution\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"1,2|3|4|5,6,7|8|9|10|\"}\nurl <- \"https://petrpajdla.github.io/stat4arch/lect/w02/data/dartpoints.csv\"\ndownload.file(url, \"./dartpoints.csv\")\ndarts <- read.csv(\"./dartpoints.csv\")\nclass(darts)\ndim(darts)\nnrow(darts)\nncol(darts)\ncolnames(darts)\nhead(darts)\nstr(darts)\n```\n:::\n\n\n:::\n::::\n\n\n<!-- ## Assignments {background-color=\"#BEFAB4\"}\n\n- Go through **R Basics** tutorials [here](https://posit.cloud/learn/recipes). -->\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}