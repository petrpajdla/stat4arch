{
  "hash": "aa92647c62d204b64307f083ebb1bf3d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Summaries and visualization of relationships\"\nformat:\n  html: default\n  revealjs:\n    fontsize: 24px\n    output-file: slides_rels.html\n    footer: \"[AES_707](https://petrpajdla.github.io/stat4arch/) *Statistics seminar for archaeologists* | [Relationships](./rels.html)\"\n    chalkboard:\n      theme: whiteboard\n      chalk-effect: 0.0\n  pdf: default\nexecute:\n  echo: true\n  warning: false\n  pdf: default\n---\n\n\n\n\n## Reflection on the last lecture {background-color=\"#FAF1A4\"}\n\n\n\n\n::: {.cell}\n\n:::\n\n\n\n\n## Objectives \n\nAt the end of the lecture, you will know how to...\n\n::: {.incremental}\n- Describe relationship of quantitative and qualitative variable.\n- Create and read **box plots** and **violin plots**.  \n- Understand relationship of two quantitative variables.\n- Count and interpret **correlation**.\n- Create and understand **scatterplots**.\n- Assess what **relationship** (covariation) occurs between your variables.\n:::\n\n\n## Relationship of quantitative and qualitative variables {background-color=\"#B5E2FF\"}\n\n\n## Boxplot {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ng <- ggplot(dartpoints) +\n  aes(x = Name, y = Width)\n```\n:::\n\n\n\n\n## Boxplot {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ng <- ggplot(dartpoints) +\n  aes(x = Name, y = Width)\n  \ng + geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-3-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Boxplot \n\nAlso *box and whisker plot*, displays *five-number summary*. \n\n![](./figs/boxplot.png)\n\n## Violin plot \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ng + geom_violin()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-4-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Violin plot {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ng + geom_violin() +\n  geom_jitter(width = 0.05, alpha = 0.4)\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-5-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Violin plot {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ng + geom_violin() +\n  geom_boxplot(width = 0.15) +\n  geom_jitter(width = 0.05, alpha = 0.2)\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-6-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n\n## Relationship of two quantitative variables {background-color=\"#B5E2FF\"}\n\n## Correlation \n\n:::: {.columns}\n::: {.column width=60%}\n::::: {.incremental}\n- A statistic describing a relationship between two continuous variables.\n- To what degree is a variable y explained by x?\n- Correlation coefficient **r**, from **-1 to +1**.\n\n- **Correlation does not imply causation!**\n\n- r = 1 – strong positive correlation\n- r = 0.5 – moderately strong positive correlation\n- r = 0 – variables are not correlated\n- r = -0.2 – weak negative correlation\n- r = -1 – strong negative correlation\n:::::\n:::\n::: {.column width=40%}\n::::: {.fragment}\nFunction `cor()`\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncor(dartpoints$Length, dartpoints$Width)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.7689932\n```\n\n\n:::\n\n```{.r .cell-code}\ncor(dartpoints$Length, dartpoints$Weight)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.879953\n```\n\n\n:::\n\n```{.r .cell-code}\ncor(dartpoints$Width, dartpoints$Thickness)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.5459291\n```\n\n\n:::\n:::\n\n\n\n:::::\n:::\n::::\n\n## Scatter plot \n\n- Plot displying **two continuous** variables, x and y.\n- *x axis*: explanatory variable, independent, predictor.\n- *y axis*: dependent variable, response.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(dartpoints) +\n  aes(x = Length, y = Weight) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-8-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Correlation examples\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-9-1.pdf)\n:::\n:::\n\n\n\n\n## Correlation examples  {auto-animate=true}\n\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-10-1.pdf)\n:::\n:::\n\n\n\n\n## Scatter plots \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dartpoints) +\n  aes(x = Weight, y = Length) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-11-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Scatter plots {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = dartpoints) +\n  aes(x = Weight, y = Length, color = Name) + \n  geom_point(size = 3, alpha = 0.5)\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-12-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Scatter plots {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4-5|6\"}\nggplot(data = dartpoints) +\n  aes(x = Weight, y = Length, color = Name) + \n  geom_point(size = 3, alpha = 0.5) +\n  labs(x = \"Weight (g)\", y = \"Length (mm)\", color = \"Type\",\n       title = \"Relationship of weight and length of dart points\") +\n  theme_light()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-13-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Scatter plots {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2-3\"}\nggplot(data = dartpoints) +\n  aes(x = Weight, y = Length, size = Width, color = Name) + \n  geom_point(alpha = 0.5) +\n  labs(x = \"Weight (g)\", y = \"Length (mm)\", color = \"Type\",\n       title = \"Relationship of weight and length of dart points\") +\n  theme_light()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-14-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Trends\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\nggplot(data = dartpoints) +\n  aes(x = Weight, y = Length) + \n  geom_point(size = 3, alpha = 0.5) +\n  geom_smooth() +\n  labs(x = \"Weight (g)\", y = \"Length (mm)\", color = \"Type\",\n       title = \"Relationship of weight and length of dart points\") +\n  theme_light()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-15-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Trends {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\nggplot(data = dartpoints) +\n  aes(x = Weight, y = Length) + \n  geom_point(size = 3, alpha = 0.5) +\n  geom_smooth(method = \"lm\") +\n  labs(x = \"Weight (g)\", y = \"Length (mm)\", color = \"Type\",\n       title = \"Relationship of weight and length of dart points\") +\n  theme_light()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-16-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Trends {auto-animate=true}\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4,7\"}\nggplot(data = dartpoints) +\n  aes(x = Weight, y = Length) + \n  geom_point(size = 3, alpha = 0.5) +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  labs(x = \"Weight (g)\", y = \"Length (mm)\", color = \"Type\",\n       title = \"Relationship of weight and length of dart points\") +\n  theme_linedraw()\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-17-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Small multiples \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"8\"}\nggplot(data = dartpoints) +\n  aes(x = Weight, y = Length) + \n  geom_point(size = 3, alpha = 0.5) +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  labs(x = \"Weight (g)\", y = \"Length (mm)\", color = \"Type\",\n       title = \"Relationship of weight and length of dart points\") +\n  theme_linedraw() +\n  facet_wrap(~Name)\n```\n\n::: {.cell-output-display}\n![](rels_files/figure-pdf/unnamed-chunk-18-1.pdf){fig-pos='H'}\n:::\n:::\n\n\n\n\n## Exercise {background-color=\"#B5E2FF\"}\n\n:::: {.columns}\n::: {.column width=80%}\n::: {.incremental}\n- Download data set with bronze age cups ([{{< bi file-earmark-arrow-down >}} bacups.csv](./data/bacups.csv)).\n- Create a project in RStudio and load the data set.\n- Explore the data set and its structure.\n- What are the observations?\n- What types of variables are there? \n- Create a plot showing distribution of cup heights (`H`).\n- Create a boxplot for cup heights divided by phases (`Phase`).\n- Are there any outliers?\n- Count correlation between cup height (`H`) and rim diameter (`RD`).\n- Create a plot showing relationship between cup height and its rim diameter.\n- Color cups from different phases (`Phase`) by differently.\n- Describe the relationship, add a linear model to the plot.\n- Label the axes sensibly.\n:::\n:::\n::: {.column width=20%}\n::: {.fragment}\n{{< bi lightbulb >}} Hints:  \n`read.csv()`,  \n`str()`,  \n`colnames()`,  \n`summary()`,  \n`cor()`,  \n`ggplot() +`  \n`  aes() + `  \n`  geom_* + `\n`  stat_*`\n:::\n:::\n::::\n",
    "supporting": [
      "rels_files/figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}